<div class="max-w-4xl mx-auto p-6">
    <h2 class="text-3xl font-bold text-gray-900 mb-6">Post List</h2>
    <input type="text" placeholder="Search posts..."
        class="w-full mb-6 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="searchTerm" (input)="getFilteredPosts()">
        
    <div *ngIf="loading()" class="flex items-center justify-center p-8">
        <div class="text-gray-600">Loading...</div>
    </div>

    <div *ngIf="errorMessage()" class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6">
        {{ errorMessage() }}
    </div>

    <ul class="space-y-4">
        <li *ngFor="let post of filteredPosts()"
            class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-xl font-semibold text-gray-900 mb-2">{{ post.title }}</h3>
            <p class="text-gray-700 leading-relaxed">{{ post.body }}</p>
            <button class="mt-5 underline text-blue-500 cursor-pointer" (click)="getPostDetails(post)">more</button>
        </li>
    </ul>
    @if (openPost()) {
    <app-modal [post]="openPost()" (close)="openPost.set(null)">
    </app-modal>
    }
</div>