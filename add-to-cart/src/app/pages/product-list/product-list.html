@if (isLoading()) {
<div class="flex items-center justify-center" style="height: calc(100vh - 64px)">
  <div>
    <mat-spinner class="[&_circle]:stroke-[black]!"></mat-spinner>
    <h6 class="text-center">loading...</h6>
  </div>
</div>
}@else {
<section class="pt-8" style="min-height: calc(100vh - 64px);">
  <div class="container mx-auto">
    <div class="flex flex-wrap">
      @for (p of products(); track p.id) {
      <div class="w-4/12 px-3 mb-6">
        <div class="group h-full relative flex flex-col overflow-hidden bg-white transition-all duration-200"
          style="border: 2px solid #0d0d0d; outline: 1px solid #0d0d0d; outline-offset: 3px;">
          <!-- Image -->
          <div class="aspect-square overflow-hidden p-8" style="background: #f0ece4; border-bottom: 2px solid #0d0d0d;">
            <img [src]="p.image" [alt]="p.title"
              class="h-full w-full object-contain transition-transform duration-500 group-hover:scale-110" />
          </div>
          <!-- Content -->
          <div class="flex flex-col p-5">
            <div class="">
              <h3 class="line-clamp-1"
                style="font-family: 'Bebas Neue', sans-serif; font-size: 22px; letter-spacing: 0.05em; color: #0d0d0d; line-height: 1.1;">
                {{ p.title }}
              </h3>
              <p class="mt-2 line-clamp-2"
                style="font-size: 11px; color: #7a756e; line-height: 1.7; font-family: 'DM Mono', monospace;">
                {{ p.description }}
              </p>
            </div>
            <div class="mt-4 flex items-center justify-between"
              style="border-top: 1.5px solid #0d0d0d; padding-top: 14px;">
              <span style="font-family: 'Bebas Neue', sans-serif; font-size: 28px; color: #0d0d0d; line-height: 1;">
                ${{ p.price.toFixed(2) }}
              </span>
              <button (click)="cartService.addToCart(p)" class="cursor-pointer"
                style="background: #0d0d0d; color: #f7f3ee; border: 2px solid #0d0d0d; font-family: 'Bebas Neue', sans-serif; font-size: 13px; letter-spacing: 0.15em; padding: 8px 16px 6px; transition: background 0.15s, color 0.15s;"
                onmouseover="this.style.background='#d4f000'; this.style.color='#0d0d0d';"
                onmouseout="this.style.background='#0d0d0d'; this.style.color='#f7f3ee';">
                Add to Cart
              </button>
            </div>
          </div>

        </div>
      </div>
      }
    </div>
  </div>
</section>
}